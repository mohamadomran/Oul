appId: com.oul
---
# Test Audio Playback Indicator
# This test verifies that audio playback indicator appears and disappears correctly

- launchApp

# Navigate to Basic Needs screen
- tapOn: 'Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©'
- waitForAnimationToEnd

# Wait for the screen to load
- assertVisible: 'Ø£ÙØ­Ù’ØªÙØ§Ø¬Ù Ù…ÙØ§Ø¡'

# Tap on first phrase (water)
- tapOn:
    text: 'Ø£ÙØ­Ù’ØªÙØ§Ø¬Ù Ù…ÙØ§Ø¡'
- waitForAnimationToEnd

# Wait for bottom sheet to appear
- assertVisible: 'I need water'
- assertVisible: 'ğŸ’§'

# Verify play button is visible
- assertVisible:
    id: 'play-button'

# Tap play button to start audio playback
- tapOn:
    id: 'play-button'

# Verify audio playback indicator appears
- assertVisible:
    id: 'audio-playback-indicator'

# Wait a moment for indicator to be fully visible
- waitForAnimationToEnd

# Verify the "Playing..." text is visible
- assertVisible: 'Playing...'

# Wait for audio to finish by pressing back to close bottom sheet
- pressKey: 'back'
- waitForAnimationToEnd

# Verify we're back to the main screen
- assertVisible: 'Ø£ÙØ­Ù’ØªÙØ§Ø¬Ù Ù…ÙØ§Ø¡'

# Tap on the first phrase (water)
- tapOn: 'Ù…Ø§Ø¡'
- waitForAnimationToEnd

# Wait for bottom sheet to appear
- assertVisible: 'Ù…Ø§Ø¡'
- assertVisible: 'Water'

# Verify the play button is visible
- assertVisible: 'play-button'

# Tap the play button to start audio playback
- tapOn: 'play-button'

# Verify the audio playback indicator appears
- assertVisible: 'audio-playback-indicator'

# Wait a moment for the indicator to be fully visible
- waitForAnimationToEnd

# Verify the "Playing..." text is visible
- assertVisible: 'Playing...'

# Wait for audio to finish by pressing back to close bottom sheet
- pressKey: 'back'
- waitForAnimationToEnd

# Verify we're back to the main screen
- assertVisible: 'Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©'
